<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-material/paper-material.html">
<link rel="import" href="/bower_components/paper-item/paper-item.html">
<link rel="import" href="/bower_components/paper-item/paper-item-body.html">

<dom-module id="hn-story-list">
  <style>
    .story {
      display: flex;
      flex-direction: row;
      justify-content: flex-start;
      margin-bottom: 1ex;
    }
    
    .details {
      display: flex;
      flex-direction: column;
    }
    
    .score {
      margin: .5em;
      align-self: center;
      font-size: 116%;
    }
    
    .secondary {
      font-size: 70%;
    }
  </style>
  <template>
    <template is="dom-repeat" items="{{stories}}">
      <paper-item>
        <paper-item-body class="story">
          <div class="score"><span>{{item.score}}</span></div>
          <div class="details">
            <div><a href="{{item.url}}" target="_blank">{{item.title}}</a></div>
            <div class="secondary"><span>by <a href="{{userUrl(item.by)}}"target="_blank">{{item.by}}</a>&nbsp;|&nbsp;</span><span><a href="{{storyUrl(item.id)}}" target="_blank"><span>{{item.descendants}}</span>&nbsp;comments</span></div>
          </div>
        </paper-item-body>
      </paper-item>
    </template>
  </template>
</dom-module>

<script>
  Polymer({
    is: "hn-story-list",

    properties: {
      stories: Array
    },
    
    storyUrl: function(storyId) {
      return "https://news.ycombinator.com/item?id=" + storyId;
    },

    userUrl: function(userId) {
      return "https://news.ycombinator.com/user?id=" + userId;
    }

  });
</script>
