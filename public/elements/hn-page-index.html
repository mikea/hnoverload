<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="/bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="/bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="/bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="hn-digest.html">

<dom-module id="hn-page-index">
    <style>
      #header {
        flex-grow: 1;
      }
      
      #title {
        flex-grow: 1;
      }
      
      #content {
        padding-left: 16px;
      }
      
      .toggleLabel {
        font-family: 'Roboto Condensed';
        font-weight: 300;
      }
      
      paper-toolbar.tall {
        height: 100px;
      }
      
      paper-tab {
        width: 100px;
      }
      
      paper-toolbar paper-tabs {
        display: none;
      }

      paper-toolbar.tall paper-tabs {
        display: flex;
      }
    </style>
  <template>
    <paper-header-panel main mode="waterfall-tall" id="header" class="flex">
        <paper-toolbar>
          <h1 id="title">HN Overload</h1>
          <paper-tabs class="bottom self-end" selected="{{tabSelection}}">
            <paper-tab>By Votes</paper-tab>
            <paper-tab>By Comments</paper-tab>
          </paper-tabs>
        </paper-toolbar>
        <div id="content">
          <hn-digest sorting="[[sorting(tabSelection)]]" id="digest"></hn-digest>    
        </div>
    </paper-header-panel>
  </template>
</dom-module>

<script>
  Polymer({
    is: "hn-page-index",
    
    properties: {
        tabSelection: {
          type: Number,
          value: 0
        }
    },
    
    sorting: function(tabSelection) {
      console.log("*** sorting: tabSelection", tabSelection);
      var ts = "" + tabSelection;
      return ts != "0" ? "comments" : "score";
    }
    
  });
</script>
